{"ast":null,"code":"var _jsxFileName = \"/Users/shenzizi/projects/nlp_web/lab/pokemons/src/App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Header from './components/Header';\nimport PokemonCard from './components/PokemonCard/PokemonCard';\n\n// https://pokeapi.co/\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst url = \"https://pokeapi.co/api/v2/pokemon?limit=30\";\nconst PokemonsWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  margin-top: 200px;\n`;\n_c = PokemonsWrapper;\nfunction App() {\n  _s();\n  const [notification, setNotification] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [pokemons, setPokemons] = useState(null);\n  useEffect(() => {\n    // https://javascript.info/fetch\n    fetch(url).then(response => {\n      return response.json();\n    }).then(data => {\n      setPokemons(data.results);\n    }).catch(error => setError(error)).finally(() => setLoading(false));\n  }, []);\n  const handleAddToCart = _ref => {\n    let {\n      pokemonName,\n      count\n    } = _ref;\n    setNotification(() => ({\n      pokemonName,\n      count\n    }));\n    setTimeout(() => {\n      setNotification(null);\n    }, 3000);\n  };\n  if (loading || !pokemons) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"something wrong QQ\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      notification: notification\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PokemonsWrapper, {\n      children: pokemons === null || pokemons === void 0 ? void 0 : pokemons.map(pokemon => /*#__PURE__*/_jsxDEV(PokemonCard, {\n        pokemonUrl: pokemon.url,\n        handleAddToCart: handleAddToCart\n      }, `${pokemon.id}_${pokemon.url}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"+iHIOP7Z+aDo9QDjbtcAjKXQSi0=\");\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"PokemonsWrapper\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["useState","useEffect","styled","Header","PokemonCard","url","PokemonsWrapper","div","App","notification","setNotification","loading","setLoading","error","setError","pokemons","setPokemons","fetch","then","response","json","data","results","catch","finally","handleAddToCart","pokemonName","count","setTimeout","map","pokemon","id"],"sources":["/Users/shenzizi/projects/nlp_web/lab/pokemons/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport styled from 'styled-components';\n\nimport Header from './components/Header';\nimport PokemonCard from './components/PokemonCard/PokemonCard';\n\n// https://pokeapi.co/\nconst url = \"https://pokeapi.co/api/v2/pokemon?limit=30\";\n\nconst PokemonsWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  margin-top: 200px;\n`;\n\nfunction App() {\n  const [notification,setNotification] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [pokemons, setPokemons] = useState(null);\n\n  useEffect(() => {\n    // https://javascript.info/fetch\n    fetch(url)\n      .then(response => {\n        return response.json();\n      })\n      .then(data => {\n        setPokemons(data.results);\n      })\n      .catch(error=> setError(error))\n      .finally(()=> setLoading(false))\n  }, [])\n\n  const handleAddToCart = ({pokemonName, count}) => {\n    setNotification(()=> ({\n      pokemonName,\n      count,\n    }))\n\n    setTimeout(()=>{\n      setNotification(null);\n    }, 3000)\n  }\n\n  if (loading || !pokemons) {\n    return <p>loading</p>;\n  }\n\n  if (error) {\n    return <p>something wrong QQ</p>\n  }\n\n  return (\n    <div>\n      <Header notification={notification} />\n\n      <PokemonsWrapper>\n        {pokemons?.map(pokemon=> (\n          <PokemonCard\n            key={`${pokemon.id}_${pokemon.url}`} \n            pokemonUrl={pokemon.url} \n            handleAddToCart={handleAddToCart}\n          />\n        ))}\n      </PokemonsWrapper>\n      \n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,MAAM,MAAM,mBAAmB;AAEtC,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,WAAW,MAAM,sCAAsC;;AAE9D;AAAA;AACA,MAAMC,GAAG,GAAG,4CAA4C;AAExD,MAAMC,eAAe,GAAGJ,MAAM,CAACK,GAAI;AACnC;AACA;AACA;AACA;AACA,CAAC;AAAC,KALID,eAAe;AAOrB,SAASE,GAAG,GAAG;EAAA;EACb,MAAM,CAACC,YAAY,EAACC,eAAe,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EACrD,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACe,QAAQ,EAAEC,WAAW,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EAE9CC,SAAS,CAAC,MAAM;IACd;IACAgB,KAAK,CAACZ,GAAG,CAAC,CACPa,IAAI,CAACC,QAAQ,IAAI;MAChB,OAAOA,QAAQ,CAACC,IAAI,EAAE;IACxB,CAAC,CAAC,CACDF,IAAI,CAACG,IAAI,IAAI;MACZL,WAAW,CAACK,IAAI,CAACC,OAAO,CAAC;IAC3B,CAAC,CAAC,CACDC,KAAK,CAACV,KAAK,IAAGC,QAAQ,CAACD,KAAK,CAAC,CAAC,CAC9BW,OAAO,CAAC,MAAKZ,UAAU,CAAC,KAAK,CAAC,CAAC;EACpC,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMa,eAAe,GAAG,QAA0B;IAAA,IAAzB;MAACC,WAAW;MAAEC;IAAK,CAAC;IAC3CjB,eAAe,CAAC,OAAM;MACpBgB,WAAW;MACXC;IACF,CAAC,CAAC,CAAC;IAEHC,UAAU,CAAC,MAAI;MACblB,eAAe,CAAC,IAAI,CAAC;IACvB,CAAC,EAAE,IAAI,CAAC;EACV,CAAC;EAED,IAAIC,OAAO,IAAI,CAACI,QAAQ,EAAE;IACxB,oBAAO;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAc;EACvB;EAEA,IAAIF,KAAK,EAAE;IACT,oBAAO;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAyB;EAClC;EAEA,oBACE;IAAA,wBACE,QAAC,MAAM;MAAC,YAAY,EAAEJ;IAAa;MAAA;MAAA;MAAA;IAAA,QAAG,eAEtC,QAAC,eAAe;MAAA,UACbM,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEc,GAAG,CAACC,OAAO,iBACpB,QAAC,WAAW;QAEV,UAAU,EAAEA,OAAO,CAACzB,GAAI;QACxB,eAAe,EAAEoB;MAAgB,GAF3B,GAAEK,OAAO,CAACC,EAAG,IAAGD,OAAO,CAACzB,GAAI,EAAC;QAAA;QAAA;QAAA;MAAA,QAItC;IAAC;MAAA;MAAA;MAAA;IAAA,QACc;EAAA;IAAA;IAAA;IAAA;EAAA,QAEd;AAEV;AAAC,GAtDQG,GAAG;AAAA,MAAHA,GAAG;AAwDZ,eAAeA,GAAG;AAAC;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}